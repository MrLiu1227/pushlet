var Slw={},SlwPlugins={};(function(){$.extend(Slw,{cascade:function(a,b){(new SlwPlugins.SlwCascade(a,b)).init()},cascadeStep:function(a,b){(new SlwPlugins.SlwCascadeStep(a,b)).init()},checkboxClick:function(a,b){var c=$(a).find("i"),d=0<$(a).find(".fa-check-square-o").length,d=!d;c.removeClass(d?"fa-square-o":"fa-check-square-o");c.addClass(d?"fa-check-square-o":"fa-square-o");$.isFunction(b)&&b.call(this,d)}});Slw.Utils={toHtml:function(a){return a=(a+"").replace(/(\r\n)|(\n)/g,"\x3cbr\x3e")},toText:function(a){return a.replace(/(<br>|<br\/>)/ig,"\n")},formatJson:function(a){return a.replace(/(\},\{)/ig,"},\x3cbr\x3e{")},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})},isnull:function(a){return null==a||"undefined"==typeof a||""==a},isNumber:function(a){return"number"===typeof a&&!isNaN(a)},isUndefined:function(a){return"undefined"===typeof a},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},length:function(a){return a.length},lengthB:function(a){return a.replace(/[^\x00-\xff]/g,"**").length},px:function(a){return Slw.Utils.isNumber(a)?a+"px":a},isEqual:function(a,b){var c={},d={};c.d=a;d.d=b;c=$.param(c);d=$.param(d);return c==d},isOpera:function(){return-1<navigator.userAgent.indexOf("Opera")},isEdge:function(){return-1<navigator.userAgent.indexOf("Edge")},isFF:function(){return-1<navigator.userAgent.indexOf("Firefox")},isSafari:function(){var a=navigator.userAgent;return-1<a.indexOf("Safari")&&-1==a.indexOf("Chrome")},isChrome:function(){var a=navigator.userAgent;return-1<a.indexOf("Chrome")&&-1<a.indexOf("Safari")},isIE:function(){var a=navigator.userAgent;if(a.toLowerCase().match(/rv:([\d.]+)\) like gecko/))return!0;var b=-1<a.indexOf("Opera");return-1<a.indexOf("compatible")&&-1<a.indexOf("MSIE")&&!b},ieVersion:function(){var a=navigator.userAgent;if(a.toLowerCase().match(/rv:([\d.]+)\) like gecko/))return 11;var b=-1,c=-1<a.indexOf("Opera");-1<a.indexOf("compatible")&&-1<a.indexOf("MSIE")&&!c&&(/MSIE (\d+\.\d+);/.test(a),b=parseFloat(RegExp.$1));return b},toJson:function(a){if(Slw.Utils.isnull(a))return"";var b={};try{b=eval("("+a+")")}catch(c){b=""}return b},substr:function(a,b){if(!a||!b)return"";for(var c=0,d="",e=0;e<a.length;e++){c+=255<a.charCodeAt(e)?2:1;if(c>b)return d;d+=a.charAt(e)}return a}};Slw.Color={basicColor:function(a){return 192<.299*parseInt(a.substr(1,2),16)+.578*parseInt(a.substr(3,2),16)+.114*parseInt(a.substr(5,2),16)?"#000000":"#FFFFFF"},reverseColor:function(a){return"#"+("000000"+(16777215-parseInt(a.slice(-6),16)).toString(16)).slice(-6).toUpperCase()},code:function(a){return'\x3ccode style\x3d"background-color:'+a+"; color:"+Slw.Color.basicColor(a)+'"\x3e'+a+"\x3c/code\x3e"}};Slw.Format={format:function(a,b){$.isArray(b)||(b=[b]);$.each(b,function(b,d){a=a.replace(new RegExp("\\{"+b+"\\}","g"),function(){return d})});return a},numeral:function(a,b){b||(b="0,0.00");var c=b.split(".")[1],d=b.indexOf(","),c=c?Slw.Format.toFixed(a,c.length):Slw.Format.toFixed(a,null);-1<d&&(c=c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"));return c},toFixed:function(a,b){var c=Math.pow(10,b);return(Math.round(a*c)/c).toFixed(b)}};Slw.Image={trumbImage:function(a,b){var c=a.width,d=a.height,e=c/d,g=b.thumbW/b.thumbH,f;"scale"==b.fitType?e>g?(g=b.thumbW,f=g/e):(f=b.thumbH,g=e*f):e>g?(f=b.thumbH,g=e*f):(g=b.thumbW,f=g/e);g=g>c?c:g;f=f>d?d:f;$(a).css({width:g+"px",height:f+"px"});"fixed"==b.fitType&&(g>b.thumbW&&$(a).css("margin-left",-(g-b.thumbW)/2+"px"),f>b.thumbH&&$(a).css("margin-top",-(f-b.thumbH)/2+"px"))},loadImage:function(a,b){var c=document.createElement("img");c.onload=function(){b(c)};c.src=a}};Slw.Event={checkHover:function(a,b){return"mouseover"==Slw.Event.getEvent(a).type?!Slw.Event.contains(b,Slw.Event.getEvent(a).relatedTarget||Slw.Event.getEvent(a).fromElement)&&(Slw.Event.getEvent(a).relatedTarget||Slw.Event.getEvent(a).fromElement)!==b:!Slw.Event.contains(b,Slw.Event.getEvent(a).relatedTarget||Slw.Event.getEvent(a).toElement)&&(Slw.Event.getEvent(a).relatedTarget||Slw.Event.getEvent(a).toElement)!==b},contains:function(a,b){return a.contains?a==b||a.contains(b):!!(a.compareDocumentPosition(b)&16)},onElement:function(a,b){return $.contains(b,a.target)||$(b).is(a.target)},getEvent:function(a){return a||window.event},hasClass:function(a,b){return $(Slw.Event.getEvent(a).toElement).hasClass(b)}};Slw.Element={clear:'\x3cdiv style\x3d"clear:both"\x3e\x3c/div\x3e'};Slw.Input={number:/\D/g,"double":/[^-/+0-9.]/g}})(jQuery);Slw.templateSettings={evaluate:/<slw%([\s\S]+?)%slw>/g,interpolate:/<slw%=([\s\S]+?)%slw>/g};Slw.noMatch=/(.)^/;Slw.escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};Slw.escaper=/\\|'|\r|\n|\u2028|\u2029/g;Slw.escapeChar=function(a){return"\\"+Slw.escapes[a]};Slw.template=function(a){var b=Slw.templateSettings,b=RegExp([(b.interpolate||Slw.noMatch).source,(b.evaluate||Slw.noMatch).source].join("|")+"|$","g"),c=0,d="var _t,_s\x3d'';\n",d=d+"try{\n_s+\x3d'";a.replace(b,function(b,e,k,h){d+=a.slice(c,h).replace(Slw.escaper,Slw.escapeChar);c=h+b.length;e?d+="'+\n((_t\x3d("+e+"))\x3d\x3dnull?'':_t)+\n'":k&&(d+="';\n"+k+"\n_s+\x3d'");return b});var d=d+"';\n}catch(e){_s\x3d''}\n",d=d+"return _s;\n",e=new Function("data","index",d),b=function(a,b){return e.call(this,a,b)};b.source="function(data,index){\n"+d+"}";return b};(function(){Slw.Validator=function(){this.checkMap={"char":{message:"\u53ea\u80fd\u8f93\u5165\u5b57\u6bcd",regExp:/^[A-Za-z]+$/},chinese:{message:"\u53ea\u80fd\u8f93\u5165\u4e2d\u6587",regExp:/^[\u0391-\uFFE5]+$/},number:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u6570\u5b57",regExp:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/},numberAndStr:{message:"\u53ea\u80fd\u8f93\u5165\u5b57\u6bcd\u548c\u6570\u5b57",regExp:/^[a-zA-Z0-9]+$/},digits:{message:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57",regExp:/^\d+$/},integer:{message:"\u53ea\u80fd\u8f93\u5165\u6574\u6570",regExp:/^[-\+]?\d+$/},"double":{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u6d6e\u70b9\u6570",regExp:/^[-\+]?\d+(\.\d+)?$/},email:{message:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\u7684\u7535\u5b50\u90ae\u4ef6",regExp:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},phone:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u7535\u8bdd",regExp:/^\d{3,4}-?\d{7,9}$/},mobile:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u624b\u673a\u53f7",regExp:/^((\(\d{3}\))|(\d{3}\-))?(((13)|(15)|(18))+\d{9})$/},color:{message:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u989c\u8272\u503c, \u5982#FFFFFF",regExp:/^#([0-9a-fA-F]{6})$/},url:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u7f51\u5740",test:function(a){return-1!=a.toLowerCase().indexOf("//localhost")||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)}},date:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u65e5\u671f ",test:function(a){return!/Invalid|NaN/.test((new Date(a)).toString())}},dateISO:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u65e5\u671f (ISO)",regExp:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/},zipCode:{message:"\u8bf7\u8f93\u51656\u4f4d\u90ae\u7f16",regExp:/^(\d{6})?$/},ip:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684IP\u5730\u5740",regExp:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/},creditcard:{message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u4fe1\u7528\u5361\u53f7 ",test:function(a){if(/[^0-9 \-]+/.test(a))return!1;var b=0,c,d=!1,e;a=a.replace(/\D/g,"");if(13>a.length||19<a.length)return!1;for(e=a.length-1;0<=e;e--)c=a.charAt(e),c=parseInt(c,10),d&&9<(c*=2)&&(c-=9),b+=c,d=!d;return 0===b%10}},required:{message:"\u4e0d\u80fd\u4e3a\u7a7a",regExp:/.+/},minLength:{message:"\u957f\u5ea6\u6700\u5c0f\u4e3a\uff1a{0} ",test:function(a,b){return $.trim(a).length>=b}},maxLength:{message:"\u957f\u5ea6\u6700\u5927\u4e3a\uff1a{0}",test:function(a,b){return $.trim(a).length<=b}},min:{message:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6700\u5c0f\u4e3a {0} \u7684\u503c ",test:function(a,b){return a>=b}},max:{message:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u6700\u5927\u4e3a {0} \u7684\u503c ",test:function(a,b){return a<=b}}};this.checkKey=["minLength","maxLength","min","max"]};Slw.Validator.prototype={check:function(a,b){var c="required",d=[],e={result:!0,message:""};if(Slw.Utils.isnull(b))e.result=!a.required;else if(c=a.test,$.isFunction(a.test)?e.result=a.test(b):a.test&&(e.result=this.test(a.test,b)),e.result)for(var g=0;g<this.checkKey.length;g++){var c=this.checkKey[g],f=a[c];if(f&&(d.push(f),e.result=this.checkMap[c].test(b,f),!e.result))break}e.result||(e.message=this.message(c,a.message,d));return e},test:function(a,b){var c=this.checkMap[a];return c?$.isFunction(c.test)?c.test(b):(new RegExp(c.regExp)).test(b):!1},message:function(a,b,c){if(b)return b;if($.isFunction(a))return"";if(a=this.checkMap[a])return Slw.Format.format(a.message,c)}};Slw.Valid=new Slw.Validator})(jQuery);(function(a){Slw.Dictionary=function(){this.dictMap={}};Slw.Dictionary.prototype={getParam:function(b){var c=this,d=[];a(b).each(function(a,b){b in c.dictMap||d.push(b)});return d},getParamStr:function(a){var b={};a=this.getParam(a);b.dictArray=a.join(",");return b},initMap:function(b){var c={};a(b).each(function(a,b){c[b.code]=b});return c},loadDict:function(b,c){var d=this,e=d.getParamStr(b);Slw.Utils.isnull(e.dictArray)?c&&c.call(d):a.post("loadDict.action",e,function(a){switch(a.result){case 0:for(var b in a.msg)d.dictMap[b]=d.initMap(a.msg[b])}c&&c.call(d)},"json")},getDictList:function(a){return this.dictMap[a]},getDictItem:function(a,c){return this.dictMap[a][c]},put:function(a,c){this.dictMap[a]=this.initMap(c)}};$jqdict=Slw.Dict=new Slw.Dictionary})(jQuery);(function(){$.fn.slwMenu=function(a){a=new SlwPlugins.SlwMenu(this,a);a.init();return a};SlwPlugins.SlwMenu=function(a,b){this.defaults={direction:"horizontal",url:null,methodType:"POST",params:{},className:["slwMenu","slwMenu-ul","slwMenu-sub-ul"],target:"cssTab",overflow:"hidden",borderWidth:"0px 0px 1px 0px",moreThanOne:!1,separator:null,width:200,menuHeight:33,labelInline:!0,labelClass:"collapse75",iconColor:"text",activeOpen:!1,activeItem:null};this.option=$.extend(this.defaults,b);this.object=$(a);this.ul;this.data=[];this.floatMenu=$('\x3cdiv class\x3d"'+this.option.className[0]+'FloatMenu" style\x3d"display: none"\x3e\x3c/div\x3e');this.object.after(this.floatMenu);this.beforeEl=this.floatMenu[0]};SlwPlugins.SlwMenu.prototype={init:function(){var a=this;a.object.addClass(a.option.className[0]);0==a.option.labelInline&&a.object.addClass(a.option.labelClass);a.object.attr("unselectable","on");a.object.attr("onselectstart","retrun false;");a.object.css("border-width",a.option.borderWidth);a.floatMenu.css({width:a.option.width+"px"});null!=a.option.url?$.ajax({url:a.option.url,type:a.option.methodType,data:a.option.params,cache:!1,success:function(b){a.data=b;a.initData(a.data,a.object,!1);a.initEvent()}}):a.initEvent()},initEvent:function(){var a=this;a.ul=a.object.children("ul").eq(0);"horizontal"==a.option.direction&&a.ul.css({height:a.option.menuHeight+"px"});a.object.append(Slw.Element.clear);"hidden"!=a.option.overflow&&a.ul.css({overflow:a.option.overflow});null!=a.option.separator&&a.object.find("."+a.option.className[1]+" li a").css({"border-right":a.option.separator});1==a.option.activeOpen&&(null!=a.option.activeItem&&a.ul.children("li").each(function(){if($(this).find("a").attr("rel")==a.option.activeItem)return $(this).addClass("active"),!1}),a.ul.children("li").on("click",function(b){a.ul.children("li").removeClass("active");$(this).addClass("active")}));this.object.find("\x3eul\x3eli\x3ea").on("mousemove touchmove",function(b){b.preventDefault();b.stopPropagation();$this=$(this);var c=$this.next(),d=a.floatMenu;if(Slw.Event.checkHover(b,a.beforeEl))if(a.unbindEvent(),a.beforeEl=this,c.attr("class")==a.option.className[2]){b=$('\x3cul class\x3d"'+a.option.className[1]+" "+a.option.className[2]+'"\x3e'+c.html()+"\x3c/ul\x3e");d.html("");d.append(b);b=b.find("ul");0<b.length&&(b.append(Slw.Element.clear),b.after(Slw.Element.clear));a.option.moreThanOne&&0<b.length&&b.addClass("moreThanOne");d.find(a.option.className[2]).css({display:"block"});b=a.object.offset().left;var c=a.object.offset().top,e=$this.offset().left,g=$this.position().top,f=5;"horizontal"==a.option.direction?(e=e-b+a.object.position().left,g+=a.option.menuHeight,e+d.width()+f>a.object.width()&&(e=a.object.width()-d.width()-f)):(f=isIE?3:25,e=$this.position().left+a.object.width()+a.object.position().left,g=$this.offset().top-c+a.object.position().top,g+d.height()+f>g_tabHeight&&(g=g_tabHeight-d.height()-f));d.css({left:e+"px",top:g+"px"});d.show();$(document).on("click",function(){a.hide()});d.on("mouseleave",function(b){b.preventDefault();a.hide()})}else a.hide()})},hide:function(){this.floatMenu.hide();this.unbindEvent();this.beforeEl=this.floatMenu[0]},unbindEvent:function(){this.floatMenu.unbind()},initData:function(a,b,c){var d=$('\x3cul class\x3d"'+(c?this.option.className[2]:this.option.className[1])+'"\x3e');b.append(d);for(b=0;b<a.length;b++){var e=a[b],g=$("\x3ca\x3e\x3c/a\x3e"),f=isnull(e.path)?"javascript:;":e.path;g.attr("href",f);g.attr("rel",e.value);g.attr("title",e.name);(0>f.indexOf("javascript:")||"javascript:;"==f)&&g.attr("target",this.option.target);e.icon&&(f=c?"text":this.option.iconColor,g.append('\x3ci class\x3d"'+e.icon+" color"+f+" "+f+"-"+e.iconColor+'"\x3e\x3c/i\x3e'));g.append('\x3cspan class\x3d"menuLabel"\x3e'+e.name+"\x3c/span\x3e");f=$("\x3cli\x3e\x3c/li\x3e");f.append(g);d.append(f);e.isLeaf||this.initData(e.child,f,!0)}}}})(jQuery);(function(a,b,c){var d={accdb:"accdb.png",avi:"avi.png",bmp:"bmp.png",css:"css.png",docx:"docx.png",doc:"docx.png",dot:"docx.png",eml:"eml.png",eps:"eps.png",fla:"fla.png",gif:"gif.png",html:"html.png",ind:"ind.png",ini:"ini.png",jpeg:"jpeg.png",jpg:"jpeg.png",jsf:"jsf.png",midi:"midi.png",mov:"mov.png",mp3:"mp3.png",m4a:"mpeg.png",mpeg:"mpeg.png",mp4:"mpeg.png",pdf:"pdf.png",png:"png.png",ppt:"pptx.png",pptx:"pptx.png",proj:"proj.png",psd:"psd.png",pst:"pst.png",pub:"pub.png",rar:"rar.png",readme:"readme.png",settings:"settings.png",txt:"txt.png",tiff:"tiff.png",url:"url.png",vsd:"vsd.png",wav:"wav.png",wma:"wma.png",wmv:"wmv.png",xls:"xlsx.png",xlsx:"xlsx.png",zip:"zip.png"};Slw.File={sizeUnit:"B KB MB GB TB PB EB ZB YB".split(" "),toFileSize:function(a){var b={value:0,unit:"B"};if(a&&0<=a){var c=Math.floor(Math.log(a)/Math.log(1024));b.value=1*Slw.Format.toFixed(a/Math.pow(1024,c),2);b.unit=Slw.File.sizeUnit[c]}return b},getFileSize:function(a){if(a&&0<=a){var b=Math.floor(Math.log(a)/Math.log(1024));return 1*(a/Math.pow(1024,b)).toFixed(2)+" "+Slw.File.sizeUnit[b]}return""},getFileName:function(a){return a.replace(/.*(\/|\\)/,"")},getFileExt:function(a){return 0>a.indexOf(".")?"":a.toLowerCase().split(".").pop()},getFullName:function(a){var b=a.fileName;isnull(a.fileExt)||(b+="."+a.fileExt);return b},getIcon:function(a){return(a=d[a])?a:"other.png"},getIconImg:function(a,b){return'\x3cimg src\x3d"cssui/plugins/cssuploader/images/'+a+"/"+Slw.File.getIcon(b)+'" class\x3d"file-icon" /\x3e'},checkExt:function(a,b){var c="("+b.replace(/(,)/g,"|")+")$";return(new RegExp(c,"i")).test(a)}};a.file=Slw.File})(jQuery,this);(function(){$.fn.slwTree=function(a){a=new SlwPlugins.SlwTree(this,a);a.init();return a};SlwPlugins.SlwTree=function(a,b){var c=this;this.input=$(a);this.contentView=$('\x3cdiv class\x3d"ac"\x3e\x3c/div\x3e');this.treeView=$('\x3cul id\x3d"'+Slw.Utils.uuid()+'"class\x3d"ztree"\x3e\x3c/ul\x3e');this.treeObj;this.defaults={path:"cssui/plugins/jqinput/images/",debug:!1,sortable:!1,hideFlag:!1,cssStyle:"",curNodeId:"",height:200,width:0,onClick:function(a,b,g){c.setValue(g.value);c.setLabel(g.name);c.hideMenu()},onLoad:function(){var a=c.input.val();(a=c.getNode(a))&&c.setLabel(a.name)}};this.option=$.extend(this.defaults,b);this.windowHeight=500;this.showFlag=!1};SlwPlugins.SlwTree.prototype={init:function(){this.windowHeight=Slw.Utils.isnull(g_tabHeight)?$(window).height():g_tabHeight;this.initView();this.treeObj=this.treeView.jqztree("",this.option);this.initEvent()},initView:function(){this.option.debug||this.input.hide();this.inputView=$('\x3ca href\x3d"javascript:void(0);"'+(this.option.hideFlag?' style\x3d"display:none"':"")+' class\x3d"form-control ac-select"\x3e\u3000\x3c/a\x3e');""!=this.option.cssStyle&&this.inputView.addClass(this.option.cssStyle);this.input.after(this.inputView);this.inputView.after(this.contentView);this.contentView.append(this.treeView);this.arrow("down")},initEvent:function(){var a=this;a.inputView.on("click",function(b){a.initShow()})},initShow:function(){var a=this;if(1!=a.showFlag){a.showFlag=!0;Slw.Utils.isIE()&&8>Slw.Utils.ieVersion()&&(c-=2);var b=a.option.height,c=a.getWidth(),d=a.inputView.position().left;a.inputView.offset().left+c>$(window).width()&&(d=d+a.inputView.outerWidth()-c);var e=a.inputView.position().top+a.inputView.outerHeight();e+b>a.windowHeight&&(e=a.inputView.position().top-b);a.contentView.css({left:d+"px",top:e+"px",width:c+"px",height:b+"px"});a.treeView.css("height",a.contentView.height()+"px");a.contentView.slideDown("fast");a.arrow("up");$("body").bind("mousedown.slwTree",function(b){b.stopPropagation();b.preventDefault();Slw.Event.onElement(b,a.treeView[0])||Slw.Event.onElement(b,a.inputView[0])||a.hideMenu()});a.getNode(a.input.val())}else a.hideMenu()},getWidth:function(){return 0<this.option.width?this.option.width:this.inputView.outerWidth()},arrow:function(a){this.inputView.css("background-image","url("+this.option.path+a+"arrow.gif)")},show:function(a){a&&(this.inputView.css({left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",position:"absolute",display:"block"}),this.inputView.focus(),this.initShow())},getNode:function(a){return this.treeObj.focus(a)},find:function(a,b){return this.treeObj.find(a,b)},setLabel:function(a){this.inputView.html(a)},setValue:function(a){this.input.val(a)},hideMenu:function(){this.showFlag=!1;$("body").unbind("mousedown.slwTree");this.contentView.hide();this.arrow("down")},hide:function(){this.hideMenu();this.inputView.hide()}}})(jQuery);(function(){$.fn.slwComplete=$.fn.jqComplete=function(a){a=new SlwPlugins.SlwComplete(this,a);a.init();return a};SlwPlugins.SlwComplete=function(a,b){this.defaults={path:"cssui/plugins/jqinput/images/",data:[],dataFilter:null,dataFormat:null,width:"auto",maxHeight:null,autoHeight:!0,cssStyle:"",listStyle:"normal",createItemHandler:null,listClass:"ac",selectInput:!1,selectInputQuery:!0,selectMultiple:!1,maxItems:0,ajaxDataType:"json",ajaxParams:{},ajaxTimeout:3E3,ajaxType:"GET",afterDrawHandler:null,afterSelectedHandler:null,newTagHandler:null,onClose:null,onerror:function(a){alert(a)}};this.option=$.extend(this.defaults,b);this.loadDataFlag=!1;this.data=[];this.dataSrc=[];this.input=$(a);this.cancelBlur=this.showFlag=!1;this.selectIndex=this.beforeIndex=this.curIndex=-1;this.selectCtrl=this.selectShift=!1;this.allFlag=!0;this.windowHeight=500};SlwPlugins.SlwComplete.prototype={init:function(){this.windowHeight=Slw.Utils.isnull(g_tabHeight)?$(window).height():g_tabHeight;this.initView();this.initEvent()},initView:function(){this.searchView=$('\x3cdiv class\x3d"'+this.option.listClass+'"\x3e\x3c/div\x3e');1==this.option.selectInput?(this.inputView=$('\x3cinput class\x3d"ac-input" type\x3d"text"/\x3e'),this.inputContainer=$('\x3cdiv class\x3d"ac-input-container"\x3e\x3c/div\x3e').append(this.inputView),this.searchView.append(this.inputContainer),0==this.option.selectInputQuery&&this.inputContainer.css({position:"absolute",display:"",width:"0px",height:"0px","z-index":-100,opacity:0})):this.inputView=this.input;this.ul=$("\x3cul\x3e\x3c/ul\x3e");this.searchView.append(this.ul);this.input.after(this.searchView);this.arrow("down");""!=this.option.cssStyle&&this.input.css(this.option.cssStyle)},initEvent:function(){var a=this;a.input.on("click",function(b){a.initShow()});a.inputView.attr("autocomplete","off");a.inputView.keydown(function(b){switch(b.keyCode){case 16:a.selectShift=!0;break;case 38:case 40:b.stopPropagation();b.preventDefault();a.move(b.keyCode);break;case 13:b.stopPropagation();b.preventDefault();a.select();break;case 17:a.selectCtrl=!0;break;case 65:a.selectAll();break;case 9:case 27:a.hide()}});a.inputView.keyup(function(b){switch(b.keyCode){case 16:a.selectShift=!1;break;case 17:a.selectCtrl=!1;break;case 13:case 38:case 40:break;case 9:case 27:a.hide();break;default:65==b.keyCode&&a.selectCtrl?a.allFlag=!a.allFlag:a.search()}});a.searchView.on("mouseenter","li",function(){a.searchView.find("li.selected").removeClass("selected");$(this).addClass("selected")}).on("mouseleave","li",function(){$(this).removeClass("selected")}).on("mousedown","li",function(b){b.stopPropagation();b.preventDefault();a.select($(this))});a.inputView.blur(function(b){a.cancelBlur?0==a.cancelBlur:a.blurHide()})},extraEvent:function(){var a=this;a.input.keydown(function(b){switch(b.keyCode){case 13:b.stopPropagation(),b.preventDefault(),a.initShow()}});a.input.keyup(function(a){switch(a.keyCode){case 13:a.stopPropagation(),a.preventDefault()}})},initShow:function(){var a=this;1==a.option.selectInput&&a.inputView.val("");a.showFlag=!a.showFlag;1==a.showFlag?(a.search(),a.cancelBlur=!0,$(window).on("resize.jqComplete",function(b){a.show()}),$(document).on("mousedown.jqComplete",function(b){b.stopPropagation();b.preventDefault();a.cancelBlur=!0;$.contains(a.searchView[0],b.target)||a.searchView.is(b.target)||(a.input.is(b.target)||$.contains(a.input[0],b.target)?a.cancelBlur=!0:(a.cancelBlur=!1,a.inputView.blur()))}),a.moveToActive(),a.inputView.focus()):a.hide()},hide:function(){this.blurHide();this.input.focus();$.isFunction(this.option.onClose)&&this.option.onClose.apply(this)},blurHide:function(){$(document).unbind("mousedown.jqComplete");$(window).unbind("resize.jqComplete");this.showFlag=!1;this.searchView.hide();this.arrow("down")},select:function(a){a instanceof jQuery||(a=this.searchView.find("li.selected"));if(0<a.length){var b=a.data("data");0==this.option.selectInput?(a.size()&&this.inputView.val(b.text),this.hide()):1==this.option.selectMultiple?this.selectMultiple(a):this.selectSingle(a);this.selectIndex=a.index();0==this.option.selectMultiple&&this.afterSelected(b);this.beforeIndex=b.index}$.isFunction(this.option.newTagHandler)&&this.option.newTagHandler.apply(this,[a.length,this.inputView])},afterSelected:function(a){$.isFunction(this.option.afterSelectedHandler)&&this.option.afterSelectedHandler.apply(this,[a,this.beforeIndex])},selectAll:function(){var a=this;a.option.selectMultiple&&a.selectCtrl&&a.searchView.find("li").each(function(){a.selectItem($(this),a.allFlag)})},selectSingle:function(a){a=a.data("data");if("undefined"==typeof this.data[a.index].selected||0==this.data[a.index].selected)0<=this.curIndex&&this.data.length>this.curIndex&&(this.data[this.curIndex].selected=!1),this.data[a.index].selected=!0,this.curIndex=a.index;this.hide()},selectMultiple:function(a){var b,c=a.index();if(this.selectShift&&-1!=this.selectIndex&&this.selectIndex!=c)for(c>this.selectIndex?b=this.selectIndex:(b=c,c=this.selectIndex),a=this.searchView.find("li").eq(this.selectIndex).hasClass("active");b<=c;b++){var d=this.searchView.find("li").eq(b);this.selectItem(d,a)}else this.selectItem(a,!a.hasClass("active"))},selectItem:function(a,b){var c=a.data("data");c.selected=b;this.data[c.index]=c;a.data("data",c);1==c.selected?a.addClass("active"):a.removeClass("active");this.afterSelected(c)},loadData:function(){var a=this;if(!a.loadDataFlag){if($.isArray(a.option.data))a.data=a.option.data.concat();else if($.isFunction(a.option.data))a.data=a.option.data();else if("string"===typeof a.option.data)if("dict"==a.option.ajaxDataType){var b=Slw.Dict.getDictList(a.option.data),c=0;$.each(b,function(b,e){a.data[c]={label:e.name,text:e.remark,value:e.code,index:c};c++})}else try{a.data=a.ajaxSend()}catch(d){a.error("ajax error: "+d);return}else{a.error("data error\uff01");return}a.formatJson();$.isFunction(a.option.dataFilter)&&(a.dataSrc=a.data.concat());a.loadDataFlag=!0}$.isFunction(a.option.dataFilter)&&(a.data=a.option.dataFilter.apply(a,[a.dataSrc]),a.reIndex())},reIndex:function(){$.each(this.data,function(a,b){b.index=a})},refreshSelect:function(){$.each(this.data,function(a,b){b.selected=!1})},dataFormat:function(a){a.text||(a.text=a.label)},inArray:function(a){var b=-1;this.loadData();$.each(this.data,function(c,d){if(d.value+""==a+"")return b=c,!1});return b},formatJson:function(){var a=this,b;$.each(a.data,function(c,d){$.isPlainObject(d)?(d.index=c,$.isFunction(a.option.dataFormat)?a.option.dataFormat.apply(a,[d]):a.dataFormat(d)):"string"===typeof d&&(b={label:d,text:d,value:d,index:c},a.data[c]=b)})},ajaxSend:function(){jQuery.support.cors=!0;var a=this,b=[];$.ajax(a.option.data,{async:!1,dataType:a.option.ajaxDataType,type:a.option.ajaxType,timeout:a.option.ajaxTimeout,data:a.option.ajaxParams,success:function(c,d,e){if("xml"===a.option.ajaxDataType)$(c).find("item").each(function(){for(var a={},c=0;c<this.attributes.length;c++)a[this.attributes[c].nodeName]=this.attributes[c].nodeValue;a.value||(a.value=$(this).text());a.text||(a.text=$(this).text());a.label||(a.label=$(this).text());b.push(a)});else if("json"===a.option.ajaxDataType)b=c;else throw"ajaxDataType error\uff01";},error:function(a,b,e){throw e;}});return b},getWidth:function(){if("number"===typeof this.option.width)return this.option.width;if("string"===typeof this.option.width&&"auto"===this.option.width.toLowerCase())return this.input.outerWidth()},move:function(a){var b=this.ul.find("li.selected");a=b.size()?38===a?b.prev():b.next():38===a?this.ul.find("li").last():this.ul.find("li").first();a.size()&&(this.ul.find("li").removeClass("selected"),a.addClass("selected"),this.moveTo(a))},moveToActive:function(){var a=this.ul.find("li.active").first();this.moveTo(a)},moveTo:function(a){if(0<a.length){var b=a.outerHeight();a=a.position().top-this.ul.position().top;b+a>this.ul.height()?this.ul.scrollTop(this.ul.scrollTop()+a+b-this.ul.height()):0>a&&this.ul.scrollTop(this.ul.scrollTop()+a)}},show:function(){if(null==this.option.maxHeight||1==this.option.autoHeight)this.searchView.css("height","auto"),this.ul.css("height","auto");if(0<this.option.maxHeight&&(this.searchView.css("max-height",this.option.maxHeight+"px"),isIE6||isIE7||isIE8||isIE9)){var a=this.searchView.height()>this.option.maxHeight?this.option.maxHeight+"px":"auto";this.searchView.css("height",a);this.ul.css("height",a)}a=this.getWidth();if(isIE6||isIE7)a-=2,1==this.option.selectInput&&this.inputContainer.css("width",a-18+"px");var b=this.searchView.height()+3;this.ul.css("height",this.searchView.height()-(1==this.option.selectInput&&1==this.option.selectInputQuery?37:0)+"px");var c=this.input.position().left,d=this.input.position().top+this.input.outerHeight();d+b>this.windowHeight&&(d=this.input.position().top-b);this.searchView.css({left:c+"px",top:d+"px",width:a+"px",height:b+"px",display:"block"});this.arrow("up")},arrow:function(a){1==this.option.selectInput&&0==this.option.selectMultiple&&this.input.css("background-image","url("+this.option.path+a+"arrow.gif)")},search:function(){var a=this;a.loadData();a.selectIndex=-1;var b=this.inputView.val(),c=[];$.each(this.data,function(d,e){if(0<a.option.maxItems&&c.length>=a.option.maxItems)return!1;e.label=e.text;0==$.trim(b).length?c.push(e):a.match(b,e)&&c.push(e)});a.draw(c);a.show()},draw:function(a){var b=this,c=this.searchView.find("ul").empty();$.each(a,function(a,e){var d=$("\x3cli\x3e\x3c/li\x3e").appendTo(c).data("data",e),f=$("\x3cdiv\x3e\x3c/div\x3e").appendTo(d);switch(b.option.listStyle){case "iconList":var k=$("\x3cimg\x3e\x3c/img\x3e").attr("src",e.image);f.append($("\x3cspan\x3e\x3c/span\x3e").append(k)).append("\x3cspan\x3e"+e.label+"\x3c/span\x3e");break;case "custom":f.append(b.option.createItemHandler.apply(b,[a,e]));break;default:f.append("\x3cspan\x3e"+e.label+"\x3c/span\x3e")}$.isFunction(b.option.afterDrawHandler)&&b.option.afterDrawHandler.apply(b,[d,e])})},match:function(a,b){var c=RegExp(a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"i").test(b.text);this.highlight(a,b);return c},highlight:function(a,b){b.label=b.text;var c=RegExp("("+a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")+")","ig");b.label=b.label.replace(c,"\x3cem\x3e$1\x3c/em\x3e")},error:function(a){$.isFunction(this.option.onerror)&&this.option.onerror.apply(this,[a])}}})(jQuery);(function(){$.fn.slwSelect=$.fn.jqSelect=function(a){a=new SlwPlugins.SlwSelect(this,a);a.init();return a};SlwPlugins.SlwSelect=function(a,b){this.input=$(a);this.defaults={maxItems:0,selectInput:!0,selectInputQuery:!0,selectMultiple:!1,separator:",",onClick:null,onClose:null,onChange:null,onLoad:null,debug:!1,cssStyle:"",hideFlag:!1};this.option=$.extend(this.defaults,b);this.option.selectMultiple=this.input.prop("multiple");this.option.selectMultiple=!("undefined"==typeof this.option.selectMultiple||0==this.option.selectMultiple);this.data=[];this.selectObj=null;this.inputCtrl=!1};SlwPlugins.SlwSelect.prototype={init:function(){this.initView();this.initExec();this.selectObj.extraEvent()},show:function(a){a?(this.inputView.css({left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",position:"absolute",display:"block"}),this.inputView.focus(),this.selectObj.refreshSelect(),this.initInputTag()):this.inputView.show()},hide:function(){this.inputView.hide();this.selectObj.hide()},initView:function(){this.option.debug||this.input.hide();this.inputView=$('\x3ca href\x3d"javascript:void(0);"'+(this.option.hideFlag?' style\x3d"display:none"':"")+' class\x3d"form-control ac-select"\x3e\x3c/a\x3e');""!=this.option.cssStyle&&this.inputView.addClass(this.option.cssStyle);this.input.after(this.inputView);this.option.selectMultiple?this.multiUl=$("\x3cul\x3e\x3c/ul\x3e").appendTo(this.inputView):this.setLabel("")},loadData:function(){var a=this,b=a.input.find("option");$.each(b,function(b,d){var c={value:$(d).val(),label:$(d).text(),text:$(d).text(),index:b};c.selected=$(d).prop("selected");c.selected&&a.addItem(c);a.data.push(c)})},refreshCtrl:function(a){var b=[];1==this.inputCtrl?(this.inputView.find("li").each(function(){var a=$(this).data("data");b.push(a.value)}),this.input.val(b.join(this.option.separator))):this.input.find('option[value\x3d"'+a.value+'"]').prop("selected",a.selected)},addItem:function(a){var b=this;a.selected=!0;if(b.option.selectMultiple){if(1>b.inputView.find("#index_"+a.index).length){var c=$('\x3cli class\x3d"ac-choice" id\x3d"index_'+a.index+'"\x3e\x3c/li\x3e').appendTo(b.multiUl),d=$('\x3cspan class\x3d"ac-choice-remove"\x3e\u00d7\x3c/span\x3e').appendTo(c);c.append(a.text);c.data("data",a);d.one("click",function(d){d.stopPropagation();d.preventDefault();c.remove();b.selectObj.hide();a.selected=!1;b.refreshCtrl(a)})}}else b.setLabel(a.label)},setLabel:function(a){this.inputView.html(a+"\x26nbsp;")},initInputTag:function(){var a=this;if(1==a.inputCtrl)if(a.option.selectMultiple){var b=a.input.val().split(a.option.separator);$.each(b,function(b,c){if(!isnull(c.trim())){var d=a.selectObj.inArray(c);0<=d&&a.addItem(a.selectObj.data[d])}})}else{b=null;if(""==a.input.val())a.dispPlaceholder();else{var c=a.selectObj.inArray(a.input.val());0<=c?(a.setLabel(a.selectObj.data[c].text),a.selectObj.data[c].selected=!0,b=a.selectObj.data[c]):a.dispPlaceholder()}$.isFunction(a.option.onLoad)&&a.option.onLoad.apply(a,[b])}},dispPlaceholder:function(){var a=this.input.attr("placeholder");"undefined"==typeof a&&(a="");this.setLabel('\x3cspan class\x3d"placeholder-text"\x3e'+a+"\x3c/span\x3e")},refreshData:function(a,b){this.selectObj.option.data=a;this.refresh(b)},refresh:function(a){this.selectObj.loadDataFlag=!1;"undefined"==typeof a&&(a="");this.input.val(a);this.selectObj.loadData();this.initInputTag()},initExec:function(){var a=this;"undefined"==typeof a.option.data?a.loadData():a.inputCtrl=!0;var b=$.extend({data:a.data,afterDrawHandler:function(b,d){a.option.selectInput&&d.selected&&(a.selectObj.curIndex=d.index,1>a.selectObj.searchView.find("li.selected").length&&b.addClass("selected"),b.addClass("active"))},afterSelectedHandler:function(b,d){a.option.selectMultiple?(b.selected?a.addItem(b):a.inputView.find("#index_"+b.index).remove(),a.refreshCtrl(b),a.selectObj.show()):(a.input.val(b.value),a.setLabel(b.text));b.index!=d&&$.isFunction(a.option.onChange)&&a.option.onChange.apply(a,[b]);$.isFunction(a.option.onClick)&&a.option.onClick.apply(a,[b])}},a.option);a.selectObj=a.inputView.jqComplete(b);a.initInputTag()}}})(jQuery);(function(){$.fn.slwTag=$.fn.jqTag=function(a){a=new SlwPlugins.SlwTag(this,a);a.init();return a};SlwPlugins.SlwTag=function(a,b){this.input=$(a);this.defaults={separator:",",maxItems:0,selectInput:!0,selectInputQuery:!0,selectMultiple:!0,ignoreCase:!0,newTagAllowed:!0,debug:!1};this.option=$.extend(this.defaults,b);this.tags=[];this.tagsLowerCase=[];this.selectObj=null};SlwPlugins.SlwTag.prototype={init:function(){this.initView();this.initExec();this.selectObj.extraEvent()},initView:function(){this.option.debug||this.input.hide();this.inputView=$('\x3ca href\x3d"javascript:void(0);" class\x3d"form-control ac-select"\x3e\x3c/a\x3e');this.input.after(this.inputView);this.multiUl=$("\x3cul\x3e\x3c/ul\x3e").appendTo(this.inputView)},refreshTags:function(){var a=this;a.tags=[];a.tagsLowerCase=[];a.inputView.find("li").each(function(){a.tags.push($(this).attr("tagValue"));a.tagsLowerCase.push($(this).attr("tagValue").toLowerCase())});a.input.val(a.tags.join(a.option.separator))},existTag:function(a){this.refreshTags();return this.option.ignoreCase?0<=$.inArray(a.toLowerCase(),this.tagsLowerCase):0<=$.inArray(a,this.tags)},initTag:function(){var a=this,b=a.input.val().split(a.option.separator);$.each(b,function(b,d){isnull(d.trim())||a.addTag(d)})},dealTag:function(a){return this.option.ignoreCase?a.toLowerCase():a},addTag:function(a){var b=this;if(!b.existTag(a)){var c=$('\x3cli class\x3d"ac-choice"\x3e\x3c/li\x3e').appendTo(b.multiUl),d=$('\x3cspan class\x3d"ac-choice-remove"\x3e\u00d7\x3c/span\x3e').appendTo(c);c.append(a);c.attr("tagValue",a);c.attr("ignoreValue",b.dealTag(a));b.refreshTags();d.one("click",function(a){a.stopPropagation();a.preventDefault();c.remove();b.selectObj.hide();b.refreshTags()})}},delTag:function(a){this.inputView.find('li[ignoreValue\x3d"'+this.dealTag(a)+'"]').remove()},initExec:function(){var a=this,b=$.extend({afterDrawHandler:function(b,d){a.existTag(d.value)&&b.addClass("active")},afterSelectedHandler:function(b,d){b.selected?a.addTag(b.value):a.delTag(b.value);a.refreshTags();a.selectObj.show()},newTagHandler:function(b,d){if(a.option.newTagAllowed){if(1>b){var c=d.val();isnull(c.trim())||a.addTag(c)}d.val("")}}},a.option);a.selectObj=a.inputView.jqComplete(b);a.initTag()}}})(jQuery);(function(){SlwPlugins.SlwCascadeStep=function(a,b){this.elmentArray=a;this.defaults={url:"",data:[],ajaxDataType:"json",maxHeight:300,dataFormat:function(a){a.label=a.name;a.text=a.name},objectIndex:"",objectId:""};this.option=$.extend(this.defaults,b);this.object;this.cacheData={};var c=this.option.url.lastIndexOf("\x3d");this.urlPath=this.option.url.substring(0,c+1);this.option.objectId=this.option.url.substring(c+1)};SlwPlugins.SlwCascadeStep.prototype={init:function(){var a=this;a.object=Array(a.elmentArray.length);for(var b=a.elmentArray.length-1;0<=b;b--){var c=$.extend(!0,{},a.option);c.objectIndex=b;c.onLoad=function(b){a.loadUrl(this,b)};b<a.elmentArray.length-1&&(c.onClick=function(b){a.loadUrl(this,b)},0==b&&(c.data=a.option.url));a.object[b]=a.elmentArray[b].jqSelect(c)}},loadUrl:function(a,b){this.addCache(a);var c=a.option.objectIndex+1;if(c!=this.elmentArray.length)if(c=this.object[c],isnull(b))c.option.objectId="",c.refreshData([],"");else{c.option.objectId=b.value;var d=this.cacheData[b.value];"undefined"==typeof d?c.refreshData(this.urlPath+b.value,""):c.refreshData(d,"")}},addCache:function(a){"undefined"==typeof this.cacheData[a.option.objectId]&&(this.cacheData[a.option.objectId]=a.selectObj.data)}}})(jQuery);(function(){SlwPlugins.SlwCascade=function(a,b){this.elmentArray=a;this.defaults={url:"",data:[],ajaxDataType:"json",maxHeight:300,dataFormat:function(a){a.label=a.name;a.text=a.name},objectIndex:""};this.option=$.extend(this.defaults,b);this.object};SlwPlugins.SlwCascade.prototype={init:function(){var a=this;a.object=Array(a.elmentArray.length);for(var b=a.elmentArray.length-1;0<=b;b--){var c=$.extend(!0,{},a.option);c.objectIndex=b;b<a.elmentArray.length-1&&(c.onClick=c.onLoad=function(b){a.loadUrl(this,b)},0==b&&(c.data=a.option.url));a.object[b]=a.elmentArray[b].jqSelect(c)}},loadUrl:function(a,b){var c=a.option.objectIndex+1;c!=this.elmentArray.length&&this.object[c].refreshData(isnull(b)||b.isLeaf?[]:b.child,"")}}})(jQuery);(function(){$.fn.slwSpinner=$.fn.jqSpinner=function(a){a=new SlwPlugins.SlwSpinner(this,a);a.init();return a};SlwPlugins.SlwSpinner=function(a,b){this.input=$(a);this.defaults={className:"tbSpinner",style:1,style_1_align:"right",min:null,max:null,step:1,precision:0,width:"100%"};this.option=$.extend(this.defaults,b);this.oldValue=this.value();this.value(this.input.val())};SlwPlugins.SlwSpinner.prototype={init:function(){this.initView();this.initEvent()},initView:function(){this.wrapper=$('\x3ctable class\x3d"'+this.option.className+'"\x3e\x3c/table\x3e');this.wrapper.css("width",this.option.width);this.input.after(this.wrapper);var a,b,c,d;a=this.wrapper[0].insertRow(0);var e=0;if(1!=this.option.style||"right"!=this.option.style_1_align)b=a.insertCell(e++),b.className="btnCell";c=a.insertCell(e++);if(1!=this.option.style||"left"!=this.option.style_1_align)d=a.insertCell(e++),d.className="btnCell";if(1==this.option.style)switch(this.option.style_1_align){case "left":$(b).append('\x3ca class\x3d"c_up" data-dir\x3d"up" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-up" /\x3e\x3c/a\x3e\x3cdiv style\x3d"clear:both;height:0px;"\x3e\x3c/div\x3e\x3ca class\x3d"c_down" data-dir\x3d"down" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-down" /\x3e\x3c/a\x3e');break;case "right":$(d).append('\x3ca class\x3d"c_up" data-dir\x3d"up" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-up" /\x3e\x3c/a\x3e\x3cdiv style\x3d"clear:both;height:0px;"\x3e\x3c/div\x3e\x3ca class\x3d"c_down" data-dir\x3d"down" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-down" /\x3e\x3c/a\x3e');break;case "both":$(b).append('\x3ca class\x3d"c_up" data-dir\x3d"up" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-up" /\x3e\x3c/a\x3e\x3cdiv style\x3d"clear:both;height:0px;"\x3e\x3c/div\x3e\x3ca class\x3d"c_down" data-dir\x3d"down" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-down" /\x3e\x3c/a\x3e'),$(d).append('\x3ca class\x3d"c_up" data-dir\x3d"up" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-up" /\x3e\x3c/a\x3e\x3cdiv style\x3d"clear:both;height:0px;"\x3e\x3c/div\x3e\x3ca class\x3d"c_down" data-dir\x3d"down" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-caret-down" /\x3e\x3c/a\x3e')}else $(b).append('\x3ca class\x3d"c_minus" data-dir\x3d"down" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-minus" /\x3e\x3c/a\x3e'),$(d).append('\x3ca class\x3d"c_plus" data-dir\x3d"up" href\x3d"javascript:;"\x3e\x3ci class\x3d"fa fa-plus" /\x3e\x3c/a\x3e');$(c).append(this.input)},initEvent:function(){var a=this;a.wrapper.find("a").on("click",function(){a.spin.apply(a,[$(this).attr("data-dir")])})},spin:function(a){if(!this.input.prop("disabled")){this.oldValue=this.value();var b=$.isFunction(this.option.step)?this.option.step.call(this,a):this.option.step;this.value(this.oldValue+Number(b)*("up"===a?1:-1))}},value:function(a){if(null===a||void 0===a)return this.numeric(this.input.val());a=this.numeric(a);var b=this.validate(a);0!==b&&(a=-1===b?this.option.min:this.option.max);this.input.val(a.toFixed(this.option.precision))},numeric:function(a){a=0<this.option.precision?parseFloat(a,10):parseInt(a,10);return isFinite(a)?a:a||this.option.min||0},validate:function(a){return null!==this.option.min&&a<this.option.min?-1:null!==this.option.max&&a>this.option.max?1:0}}})(jQuery);(function(a,b,c){Slw.UploadUtil={getIconImg:function(a,b){return'\x3cimg class\x3d"file-icon" title\x3d"'+Slw.File.getFullName(a)+'" src\x3d"cssui/plugins/cssuploader/images/'+b+"/"+Slw.File.getIcon(a.fileExt)+'" /\x3e'},getUrlImg:function(a){var b="defaultImageId"==a.id?"":"."+a.fileExt;return'\x3cimg class\x3d"pic-element"  data-original\x3d"'+a.fileUrlFull+'" title\x3d"'+Slw.File.getFullName(a)+'" src\x3d"'+a.fileUrlFull+b+'" /\x3e'},getUrl:function(a){return"defaultImageId"==a.id?"":a.fileUrlFull+"."+a.fileExt},getLocalImg:function(a,b){if(b.type.match("image/*")&&"undefined"!==typeof FileReader){var c=new FileReader;c.onload=function(b){a.attr("src",b.target.result)};c.readAsDataURL(b)}},currentDate:function(){var a=new Date,b=a.getFullYear()+"",c=a.getMonth()+1,c=10>c?"0"+c:c,f=a.getDate(),f=10>f?"0"+f:f,k=a.getHours(),k=10>k?"0"+k:k,h=a.getMinutes(),h=10>h?"0"+h:h,a=a.getSeconds();return b+"-"+c+"-"+f+" "+k+":"+h+":"+(10>a?"0"+a:a)},formatDate:function(a,b,c){return a.substring(b,c)},download:function(b,c,g,f){var d=function(){var b={};b.uuid=c;b.mod=g;b.tSessionId=(new Date).valueOf();var b=a.param(b),d=a("#hiddenformwwd");0==d.length&&(a("body").append('\x3cform id\x3d"hiddenformwwd" target\x3d"_blank" method\x3d"post"\x3e\x3c/form\x3e'),d=a("#hiddenformwwd"));d.attr("action",f.downUrl+"?"+b);d.submit()};b=a("#"+b).find(".default-file-name").html();b=isnull(b)?"":"\u201c"+b+"\u201d";f.confirm?$css.confirm("\u786e\u5b9a\u8981\u4e0b\u8f7d\u6587\u4ef6"+b+"\u5230\u672c\u5730\u5417\uff1f",d):d()},del:function(b,c,g,f,k){var d=function(){var d=a("#"+b),e={};e.ids=c;e.tSessionId=(new Date).valueOf();e=a.param(e);a.post(f.delUrl,e,function(a){0==a.result?(d.remove(),g&&g.call(this,b,f,k)):$css.alert(a.msg)},f.dataType)};f.confirm?$css.confirm("\u786e\u5b9a\u8981\u5220\u9664\u6587\u4ef6\u5417\uff1f",d):d()},initTools:function(b,c,g,f){f=a("#"+b,f);var d=f.find(".toolsCell"),e=a('\x3cdiv class\x3d"tools"\x3e\x3c/div\x3e'),n=a('\x3ci class\x3d"fa fa-trash-o" title\x3d"\u5220\u9664"\x3e \x3c/i\x3e'),p=a('\x3ci class\x3d"fa fa-edit" title\x3d"\u7f16\u8f91"\x3e \x3c/i\x3e'),l=a('\x3ci class\x3d"fa fa-download" title\x3d"\u4e0b\u8f7d"\x3e \x3c/i\x3e');d.html("").append(e);c.readonly?e.append(l):(e.append(p),e.append(l),e.append(n));var m=a.extend(!0,{},c.extraData);""==m.tableKey&&(m.tableKey=f.attr("data-key"));n.click(function(){Slw.UploadUtil.del(b,b,g,c,m)});p.click(function(){var d={};d.url=c.getUrl;d.data={uuid:b};d.rel="attachmentRename";d.title="\u91cd\u547d\u540d";d.callback=function(){var d=a("#getAttachmentForm");d.find("button").click(function(){if(!d.valid())return!1;a.post(c.updUrl,d.serialize(),function(c){0==c.result?(c.fileExt=Slw.File.getFileExt(a("#"+b).find(".default-file-name").html()),c.fileName=d.find("#fileName").val(),closeDialog(),$css.tip("\u4fdd\u5b58\u6210\u529f\uff01"),a("#"+b).find(".default-file-name").html(Slw.File.getFullName(c))):$css.alert(c.msg)},c.dataType)})};$css.openDialog(d)});l.click(function(){Slw.UploadUtil.download(b,b,2,c)})}};a.jquploadUtil=Slw.UploadUtil})(jQuery,this);(function(){$.fn.slwAjaxUpload=function(a){a=new SlwPlugins.SlwAjaxUpload(this,a);a.init();return a};SlwPlugins.SlwAjaxUpload=function(a,b){this.defaults={action:"upload.action",name:"userfile",allowedTypes:"*",fileNumber:1,data:{},responseType:"json",onSubmit:function(a,b){},onComplete:function(a,b){},onSuccess:function(a,b){},onError:function(a,b,e){}};this.option=$.extend(this.defaults,b);this.btn=$(a);this.input=null};SlwPlugins.SlwAjaxUpload.prototype={init:function(){this.btn.css({cursor:"pointer"});this._createInput()},submit:function(){var a=this,b=a.option;if(""!=a.input.val()){var c=Slw.File.getFileName(a.input.val());if(b.onSubmit.call(this,c,Slw.File.getFileExt(c))){var d=this._createIframe(),e=this._createForm(d);e.appendChild(a.input[0]);e.submit();document.body.removeChild(e);e=null;a.input=null;var g=!1,f=function(e){g=!0;d.src="javascript:'\x3chtml\x3e\x3c/html\x3e';";a._createInput();b.onComplete.call(a,c,e)};$(d).on("load",function(e){if("javascript:'%3Chtml%3E%3C/html%3E';"==d.src||"javascript:'\x3chtml\x3e\x3c/html\x3e';"==d.src)g&&setTimeout(function(){document.body.removeChild(d)},0);else if(e=d.contentDocument?d.contentDocument:frames[d.id].document,!e.readyState||"complete"==e.readyState)if(!e.body||"false"!=e.body.innerHTML){var h;if(e.XMLDocument)h=e.XMLDocument;else if(e.body){if(h=e.body.innerHTML,b.responseType&&"json"==b.responseType.toLowerCase())if(e.body.firstChild&&"PRE"==e.body.firstChild.nodeName.toUpperCase()&&(h=e.body.firstChild.firstChild.nodeValue),h){if(e=h,h=Slw.Utils.toJson(h),""==h){h="";var k=$("\x3cdiv\x3e"+e+"\x3c/div\x3e").find("h1");0<k.length&&(h=k.text());b.onError.call(a,c,e,h);f(h);return}}else h={}}else h=e;b.onSuccess.call(a,c,h);f(h)}})}else a.input.remove(),a._createInput()}},hide:function(){this.btn.unbind();this.input.css({display:"none"})},show:function(){this._iepositionFix()},_createInput:function(){var a=this.option,b=this;b.input=$('\x3cinput type\x3d"file" name\x3d"'+a.name+'" style\x3d"display:none" unselectable\x3d"on" '+("*"!=a.allowedTypes?'accept\x3d"'+a.allowedTypes+'"':"")+(1!=a.fileNumber?' multiple\x3d"multiple"':" ")+"/\x3e");b.btn.after(b.input);b._iepositionFix();b.input.on("change",function(a){""!=b.input.val()&&(b.btn.attr("disabled",!0),b.submit())});b.btn.attr("disabled",!1)},_iepositionFix:function(){var a=this;if(Slw.Utils.isIE()&&10>Slw.Utils.ieVersion()){var b=19.001*a.btn.outerWidth()/100;a.input.css({position:"absolute",display:"",width:a.btn.outerWidth()+"px",height:a.btn.outerHeight()+"px",left:a.btn.position().left+"px",top:a.btn.position().top+"px",cursor:"pointer",color:"transparent","font-size":b+"px","z-index":201707,overflow:"hidden",opacity:0});a.btn.unbind();a.btn.hover(function(){a._iepositionFix()})}else a.btn.unbind(),a.btn.click(function(){a.input.click()})},_createIframe:function(){var a=Slw.Utils.uuid(),b=$('\x3ciframe src\x3d"javascript:false;" name\x3d"'+a+'" /\x3e');$("body").append(b);b=b[0];b.id=a;b.style.display="none";return b},_createForm:function(a){var b=this.option,c=$('\x3cform method\x3d"post" enctype\x3d"multipart/form-data"\x3e\x3c/form\x3e');$("body").append(c);c=c[0];c.style.display="none";c.action=b.action;c.target=a.name;for(var d in b.data)a=document.createElement("input"),a.type="hidden",a.name=d,a.value=b.data[d],c.appendChild(a);return c}}})(jQuery);